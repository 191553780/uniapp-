{"version":3,"sources":["webpack:///D:/code/uni-app/嗅事app/pages/user-set-email/user-set-email.vue?eec0","webpack:///D:/code/uni-app/嗅事app/pages/user-set-email/user-set-email.vue?7cfb","webpack:///D:/code/uni-app/嗅事app/pages/user-set-email/user-set-email.vue?9aa6","webpack:///D:/code/uni-app/嗅事app/pages/user-set-email/user-set-email.vue?8296","webpack:///D:/code/uni-app/嗅事app/pages/user-set-email/user-set-email.vue","webpack:///D:/code/uni-app/嗅事app/pages/user-set-email/user-set-email.vue?5de8","webpack:///D:/code/uni-app/嗅事app/pages/user-set-email/user-set-email.vue?23d5"],"names":["data","isbind","email","disabled","loading","onLoad","e","methods","change","check","uni","showToast","title","icon","pattern","test","submit","$http","post","token","checkToken","err","res","errorCheck","User","userinfo","setStorageSync","success","navigateBack","delta","watch"],"mappings":"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","file":"pages/user-set-email/user-set-email.js","sourcesContent":["import { render, staticRenderFns } from \"./user-set-email.vue?vue&type=template&id=280eb444&scoped=true&\"\nimport script from \"./user-set-email.vue?vue&type=script&lang=js&\"\nexport * from \"./user-set-email.vue?vue&type=script&lang=js&\"\nimport style0 from \"./user-set-email.vue?vue&type=style&index=0&id=280eb444&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"280eb444\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('280eb444', component.options)\n    } else {\n      api.reload('280eb444', component.options)\n    }\n    module.hot.accept(\"./user-set-email.vue?vue&type=template&id=280eb444&scoped=true&\", function () {\n      api.rerender('280eb444', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/code/uni-app/嗅事app/pages/user-set-email/user-set-email.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user-set-email.vue?vue&type=template&id=280eb444&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user-set-email.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user-set-email.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisbind:false,\n\t\t\t\temail: '',\n\t\t\t\tdisabled: true,\n\t\t\t\tloading: false\n\t\t\t}\n\t\t},\n\t\tonLoad(e) {\n\t\t\tif (e.email && e.email !== 'false' && e.email !== 'null') {\n\t\t\t\tthis.email = e.email;\n\t\t\t\tthis.disabled = true;\n\t\t\t\tthis.isbind = true;\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t// 监听输入框\n\t\t\tchange () {\n\t\t\t\tif (this.email) {\n\t\t\t\t\treturn this.disabled = false;\n\t\t\t\t}\n\t\t\t\tthis.disabled = true;\n\t\t\t},\n\t\t\t// 验证\n\t\t\tcheck () {\n\t\t\t\tif (!this.email && this.email == '') {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '邮箱不能为空',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\t// 验证邮箱格式\n\t\t\t\tlet pattern = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/\n\t\t\t\tif (!pattern.test(this.email)) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请输入正确的邮箱',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn true\n\t\t\t},\n\t\t\t// 提交\n\t\t\tasync submit () {\n\t\t\t\tif(!this.check()) return; \n\t\t\t\tthis.loading = this.disabled = true;\n\t\t\t\tlet [err,res] =await this.$http.post('/user/bindemail',{\n\t\t\t\t\temail:this.email\n\t\t\t\t},{\n\t\t\t\t\ttoken:true,\n\t\t\t\t\tcheckToken:true\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (!this.$http.errorCheck(err,res)){\n\t\t\t\t\treturn this.loading = this.disabled = false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 绑定成功\n\t\t\t\tthis.isbind = true;\n\t\t\t\tthis.loading = this.disabled = false;\n\t\t\t\t// 修改状态，缓存\n\t\t\t\tthis.User.userinfo.email = this.email; \n\t\t\t\tuni.setStorageSync(\"userinfo\",this.User.userinfo);\n\t\t\t\treturn uni.showToast({\n\t\t\t\t\ttitle: '绑定成功！',\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\tuni.navigateBack({ delta: 1 });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\temail () { this.change() }\n \t\t}\n\t}\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user-set-email.vue?vue&type=style&index=0&id=280eb444&scoped=true&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user-set-email.vue?vue&type=style&index=0&id=280eb444&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}